# Railway Environment Variables Template
# Copy these to each Railway service's environment variables section

# ============================================
# SHARED VARIABLES (Add to ALL services)
# ============================================

# JWT Secrets (Generate new ones for production!)
JWT_SECRET=REPLACE_WITH_LONG_RANDOM_STRING_64_CHARS
JWT_REFRESH_SECRET=REPLACE_WITH_DIFFERENT_LONG_RANDOM_STRING_64_CHARS
INTERNAL_API_KEY=REPLACE_WITH_ANOTHER_LONG_RANDOM_STRING_64_CHARS

# Environment
ENV=prod
NODE_ENV=production

# IP Hash Salt for security
IP_HASH_SALT=REPLACE_WITH_RANDOM_HASH_SALT

# ============================================
# DATABASE URLs (Railway auto-provides these when you add PostgreSQL)
# ============================================
# Railway will automatically set DATABASE_URL when you add PostgreSQL plugin
# You'll need to rename them for each service:

# For event-lifecycle-service:
DATABASE_URL_PROD=${{Postgres_event_lifecycle.DATABASE_URL}}

# For user-and-org-service:
DATABASE_URL=${{Postgres_user_org.DATABASE_URL}}

# For real-time-service:
DATABASE_URL=${{Postgres_real_time.DATABASE_URL}}

# ============================================
# REDIS (Railway auto-provides when you add Redis)
# ============================================
REDIS_URL_PROD=${{Redis.REDIS_URL}}
REDIS_URL=${{Redis.REDIS_URL}}

# ============================================
# KAFKA (Use Upstash Kafka - external service)
# ============================================
# Get from Upstash.com after creating Kafka cluster
KAFKA_BOOTSTRAP_SERVERS_PROD=your-cluster.upstash.io:9092
KAFKA_BOOTSTRAP_SERVERS=your-cluster.upstash.io:9092

# Upstash Kafka credentials
UPSTASH_KAFKA_USERNAME=your-username
UPSTASH_KAFKA_PASSWORD=your-password
UPSTASH_KAFKA_SASL_MECHANISM=SCRAM-SHA-256
UPSTASH_KAFKA_SECURITY_PROTOCOL=SASL_SSL

# ============================================
# S3 STORAGE (Use Cloudflare R2 or AWS S3)
# ============================================
# For Cloudflare R2:
AWS_ACCESS_KEY_ID=your-r2-access-key-id
AWS_SECRET_ACCESS_KEY=your-r2-secret-access-key
AWS_S3_BUCKET_NAME=your-bucket-name
AWS_S3_REGION=auto
AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
AWS_S3_PUBLIC_URL=https://your-public-r2-domain.com

# Or for AWS S3:
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET_NAME=your-bucket-name
# AWS_S3_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=  (leave empty for AWS S3)
# AWS_S3_PUBLIC_URL=https://your-bucket.s3.amazonaws.com

# ============================================
# EMAIL SERVICE (Resend.com - recommended)
# ============================================
# Get from resend.com
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Legacy SMTP (if not using Resend)
MAIL_HOST=smtp.resend.com
MAIL_PORT=587
MAIL_USER=resend
MAIL_PASS=re_your_resend_api_key_here
MAIL_FROM=noreply@yourdomain.com

# ============================================
# STRIPE PAYMENT (stripe.com)
# ============================================
# Get from Stripe Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_or_test_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_or_test_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# ============================================
# INTER-SERVICE COMMUNICATION
# ============================================
# Railway provides these as ${{service_name.RAILWAY_PUBLIC_DOMAIN}}
# You'll set these after deploying each service

# For apollo-gateway:
USER_ORG_SERVICE_URL=https://${{user-and-org-service.RAILWAY_PUBLIC_DOMAIN}}/graphql
EVENT_LIFECYCLE_SERVICE_URL=https://${{event-lifecycle-service.RAILWAY_PUBLIC_DOMAIN}}/graphql

# For other services (internal communication):
EVENT_LIFECYCLE_SERVICE_URL_INTERNAL=https://${{event-lifecycle-service.RAILWAY_PRIVATE_DOMAIN}}
REAL_TIME_SERVICE_URL_INTERNAL=https://${{real-time-service.RAILWAY_PRIVATE_DOMAIN}}
USER_ORG_SERVICE_URL_INTERNAL=https://${{user-and-org-service.RAILWAY_PRIVATE_DOMAIN}}

# ============================================
# SERVICE-SPECIFIC PORTS
# ============================================
# Railway automatically sets $PORT, but these are for reference
PORT=${{PORT}}  # Railway will inject this automatically

# ============================================
# DUMMY VALUES (Required by some config classes)
# ============================================
DATABASE_URL_LOCAL="dummy_value"
REDIS_URL_LOCAL="dummy_value"
KAFKA_BOOTSTRAP_SERVERS_LOCAL="dummy_value"
